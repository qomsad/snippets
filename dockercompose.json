{
  "PostgreSQL Docker container": {
    "prefix": ["postgres"],
    "body": [
      "# Run: docker-compose up",
      "# Reset all: docker-compose down -v --rmi=local",
      "name: &name $1",
      "services:",
      "\tpostgres:",
      "\t\tbuild:",
      "\t\t\tcontext: .",
      "\t\t\tdockerfile_inline: |",
      "\t\t\t\tFROM postgres:latest",
      "\t\t\t\tCOPY <<-EOT '/docker-entrypoint-initdb.d/000000.sql'",
      "\t\t\t\t\t\\\\\\set usr `echo \"\\\\$\\$POSTGRES_USER\"`",
      "\t\t\t\t\tALTER SCHEMA public RENAME TO :usr;",
      "\t\t\t\t\tALTER USER :usr SET search_path TO :usr;",
      "\t\t\t\tEOT",
      "\t\t\t\tCOPY ./*.sql /docker-entrypoint-initdb.d",
      "\t\tenvironment:",
      "\t\t\tPOSTGRES_DB: \"docker\"",
      "\t\t\tPOSTGRES_USER: *name",
      "\t\t\tPOSTGRES_PASSWORD: *name",
      "\t\tports:",
      "\t\t\t- \"${2:5432}:5432\"",
      "\t\tvolumes:",
      "\t\t\t- postgres-data:/var/lib/postgresql/data",
      "volumes:",
      "\tpostgres-data:",
      "",
    ],
    "description": "Local container for testing",
  },
}
